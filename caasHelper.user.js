// ==UserScript==
// @name        卡思助手-社区版
// @namespace   https://github.com/ruesin
// @description 卡思助手
// @version     1.1.8
// @author      阿信
// @match       *://compass.jinritemai.com/shop/*
// @match       *://buyin.jinritemai.com/dashboard/servicehall/business-homepage*
// @match       *://buyin.jinritemai.com/dashboard/servicehall/daren-profile*
// @match       *://anchor.douyin.com/anchor/review*
// @grant       GM.xmlHttpRequest
// @grant       GM_registerMenuCommand
// @grant       GM_setValue
// @grant       GM_getValue
// @grant       GM_xmlhttpRequest
// @charset		UTF-8
// @license     GPL License
// @icon        data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFAUlEQVRYhe2WX4gVVRzHP78zZ+be3dU0yf7QQ6gkVPvUQz0EQU9BRAg9bLBWLMhqylo9GEIlYpqUJmZmqwjZ7gYZSA/2ENFb9RLRH1QMQUuz/JOb/3b3/puZXw8zc+/MvbN/3PVBaL9wOPfMmXPu53x/v3POwKxmdQvq683HdUYTDB2Z2fiUTPODFatPLjzrFti/7dTuac/qW/h4houM1QK4eIl78by1XDB2zbRm3HtSKXtQKSD9Z07MFNCmG2t2ndcLqgQiTHv5ZS+qA4PC/TPDawL82/XwVPFFCJrf/EgVG4+wgAABEMb1ChEASgVQicpNUGaWx/Zdqxv3fe9tUd/2GMwB3Bgu+a0pwDAuvSLOump/UKysrENunjNt2oyDZ70CjiqneorivBN0B74ZIgR8Go4lMqnRYdxWoF81WCXCumoEOMOtktkkFx3LqZ6itO+sdQRjZogghktcSjuV9Jm4SFycCJJtnlC1UMt40NAmVTaqehv9DRMBZq3/VJVuEdan8s2BlhD3idgD4XpfZWtuPiaLWCXZ+d/VyM9k0T6Rw0lkNktLKrTmxqs5cC7weuvguoZUW/LRbwLcqZqJhjZATy49jbEGMfD7cLDviZWLVibDWs7Beuj81EQTwQEsF8mE2sSLS/SBaj38SV/c/um+P6n4gh8oKsKSu93e9NTZP14bh0BoHCcuGeu7jgwrbRVoq0B7mYO3P9CYY0i17mBPPKZfNeNsKgW+mfsXHTbEc8B6BtcVXKs4jrB42b2S7yA08sJvgvtxpLEAJ0qcrvLPjX26XIQXRepw+1Uzria1gUPmNKVa6eER33A9dBitCWMVGC1DqQobvjrTBk3HTEZh1t+u76qKVvmscwEAnc88R+fAxrwsbihZfnIMJfUrIs823pIv95xTzypeqHiB4CIsu2zHNoGMDwi0XicRWHYh4xB+EocWopwL4np1az4/vfoeObT7nBYcwTqKF4LrZNc4qQ7/au5AoPPtPdmOPL4B1ZYNYfLhEo3UhCsV4VrZcLUsjFSi5xM7mNLYGjvMD6MgSuf7O6C9BNSgYgcyL+6PN0rTTnacwMkJCABbtlzUSxXwjNJhFeMLtUCmCLhWQ3aJATj4SId0Hb2khNHHQGYHA3wYn3XQuArj3At6bPjk2itatErBKJ9vXyAAfW9e0n+rSsFAwYExX2i3StUvH4e8ACVHTVq7JjkHAXY0fe2kD/pukUdfunpZhPlFAwWjFKziieI54BqlzUbPi47iCby1YaFMzcEYuvP+UXO0b07+1b81dk5ySne0uMs1d74rSsWEuEYphhFgwVFcI5R8xXUkgrT+L8nU+c7kuZjIgTat3Fmz9oBfdJ5qcS19b6euurteqKpnQqxRCk6IFaXohHhGsQJFJwq9NcoX7y2oj8sFXLrnetuJ3+aMTQRZh/HidgJl4vrl1rSY113TgqPUQY1iTYgnEVjpQfGO9s2tpceMm1t2vd/rjzl7czubr8IEMHn22sQ5O6+7pkai3PNMyNkDxXHfnzz5xwt3cowkn2BJeWMKG+oGNPXJ8kDTrm29uWCzmtWtohtKbG8w2ijV5xsbwhtUTdpJfyJVPSYiD6WfmVK4qNzr/DHV/5zS55Y3qJr+82aQlP7JtJThBD4M9RjAjcDBFO/itENp93K0MN0QI497g6oa6rdAOMnYmavZxaQ9mcPeoKo7EB7O65vV/17/AbOXEe7tDd0iAAAAAElFTkSuQmCC
// ==/UserScript==
// @license     GPL License
!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=18)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={Cache:{},Xhr:{inited:!1,init:function(e){!0!==this.inited&&(this.rewrite(e),this.inited=!0)},rewrite:function(e){let t=XMLHttpRequest.prototype.send,n=this;XMLHttpRequest.prototype.send=function(){let a=this,r=function(e){4==a.readyState&&200==a.status&&(""!=a.responseType&&"text"!=a.responseType||(a.requestData=arguments,n.dispatchFetch(a)))};return e?this.onreadystatechange=r:this.addEventListener("load",r),t.apply(this,arguments)}},rules:{},registRules:function(e,t,n){"function"==typeof t&&(n||(n=0),this.rules[e]&&this.rules[e].weight&&this.rules[e].weight>n||(this.rules[e]={callback:t,weight:n}))},dispatchFetch:function(e){let t=new URL(e.responseURL),n=[t.host+t.pathname,t.pathname];for(let t=0;t<n.length;t++){let a=this.rules[n[t]]||null;if(!a)continue;let r=null;return"function"==typeof a&&(r=a),"object"==typeof a&&(r=a.callback||null),"function"==typeof r?(e.responseHeders=e.getAllResponseHeaders(),e.responseData=function(){try{return JSON.parse(e.responseText)}catch(t){return e.responseText}}(),console.info("caas xhr",e.responseURL),r(e)):null}}},Url:{info:function(e){let t=new URL(e);return t.getParams=function(e){let n=Object.fromEntries(t.searchParams.entries());return e?n[e]||null:n},t},getParams:function(e,t){let n=e.split("?")[1],a=new URLSearchParams(n),r=Object.fromEntries(a.entries());return t?r[t]||null:r}},Excel:{exportSimple(e){const{cellList:t,headerList:n,caption:r,exportName:o="exportName"}=e;let i="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:excel' xmlns='http://www.w3.org/TR/REC-html40'>";i+="<head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Sheet 1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head>",i+="<body><table width='10%'  border='1'>",i+=(r?`<caption>${r}</caption>`:"")+"<tr>"+(n||[]).map(e=>`<th>${e}</th>`).join("")+"</tr>"+(t||[]).map(e=>`<tr>${(e||[]).map(e=>`<td>${e}</td>`).join("")}</tr>`).join(""),i+="</table></body>",i+="</html>";const c="data:application/vnd.ms-excel;base64,"+a.Str.encodeBase64Safe(i),s=document.createElement("a");s.download=o+".xlsx",s.href=c,s.click()}},Math:{round:function(e,t){t||(t=0);let n=10**(t*=1);return Math.round(e*n)/n}},Str:{encodeBase64Safe:e=>window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)}))),decodeBase64Safe(e){for(e=e.replace(/-/g,"+").replace(/_/g,"/");e.length%4;)e+="=";return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},encodeBase64:e=>window.btoa(encodeURIComponent(e)),decodeBase64:function(e){for(e=e.replace(/-/g,"+").replace(/_/g,"/");e.length%4;)e+="=";return decodeURIComponent(atob(e))},removeMix:(e,t)=>e.replaceAll(t,"")},Time:{format:function(e,t){let n=e;"object"==typeof e||e.hasOwnProperty("getFullYear")||(n=new Date,10===(e+="").length&&(n=new Date(1e3*e)),13===e.length&&(n=new Date(1*e))),t||(t="yyyy-MM-dd hh:mm:ss");let a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t},convert:function(e){let t=0,n=0,a=0,r=0,o="";return e>=86400&&(t=parseInt(e/60/60/24)),e>=3600&&(n=parseInt(e/60/60%24)),e>=60&&(a=parseInt(e/60%60)),r=parseInt(e%60),t>0&&(o+=t+"\u5929"),n>0&&(o+=(n<10?"0"+n:n)+"\u5c0f\u65f6"),a>0&&(o+=(a<10?"0"+a:a)+"\u5206"),r>0&&(o+=(r<10?"0"+r:r)+"\u79d2"),o}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(3);function r(){return window.unsafeWindow?window.unsafeWindow:window}function o(e,t){return t||(t=document),t.getElementById(e)}function i(e,t){return t||(t=document),t.getElementsByClassName(e)[0]}var c=n(0);const s="__caas__helper_header_logo",l="__caas__helper_header_text",_="__caas__helper_content_item_box_oRKnW",u="__caas__helper_content_item_title_oRKnW",h="__caas__helper_content_item_html_oRKnW",d="__caas__helper_button_ofvwm";n(2);const p={init:function(){a.a.isPri()||a.a.gmn();let e=this;e.load(),r().addEventListener("popstate",t=>e.load())},url:"",urlInfo:null,mapper:{},funcs:{},register:function(e,t){this.mapper[e]=t},functions(e,t){if(!t)return this.funcs[e]||function(){console.error(e)};"function"!=typeof t&&t.default&&(t=t.default),"function"==typeof t&&(this.funcs[e]=t)},load:function(){let e=r().location.href;if(this.url&&this.url===r().location.href)return;this.url=e,this.urlInfo=new URL(e);let t=this.mapper[this.urlInfo.host+this.urlInfo.pathname]||this.mapper[this.urlInfo.pathname]||null;if(!t)return void this.removeNode();let n=null;return"function"!=typeof t&&t.default&&(t=t.default),"function"==typeof t&&(n=t(this.urlInfo)),console.info("caas load",e),c.a.Xhr.init(null!==n&&n.forceXhr),this.render(),"object"==typeof n&&null!==n?n.init&&n.init():void 0},nodeId:"__caas__helper__container__unFoY",render:function(){let e=this;this.removeNode();let t=document.createElement("div");t.id=e.nodeId,t.innerHTML='<div class="__caas__helper_header_mladg">\n<div class="__caas__helper_header_logo"></div><div class="__caas__helper_header_text">\u5361\u601d\u52a9\u624b</div></div>\n<div class="__caas__helper_content_pxe6a">\n</div>\n',document.getElementsByTagName("body")[0].appendChild(t),i("__caas__helper_header_mladg",o(this.nodeId)).onclick=function(){"none"==e.getNodeContent().style.display?e.showContent():e.hideContent()},this.clearContent()},getNodeContent:function(){return i("__caas__helper_content_pxe6a",o(this.nodeId))},removeNode:function(){try{o(this.nodeId).remove()}catch(e){}},clearContent:function(){this.setContent("")},hideContent:function(){this.getNodeContent().style.display="none",i(s).style.display="",i(l).style.display="none"},showContent:function(){this.getNodeContent().style.display="",i(s).style.display="none",i(l).style.display=""},setContentObj(e,t,n){e.contentObj||(e.contentObj={}),e.contentObj[t]=n,this.setContent(e.contentObj)},setContent:function(e){let t={};(!(t="object"==typeof e&&null!==e?this.buildContent(e):{html:e}).html||t.html.length<=0)&&this.hideContent(),this.getNodeContent().innerHTML=t.html,(t.callback||[]).forEach(e=>{e()}),this.showContent()},buildContent:function(e){let t="",n=[];for(let a in e){let r=e[a];if(!r.html)continue;let i=`${u}_${a}`,c=`${h}_${a}`;t+=`<div class="${_}" id="${_}_${a}">\n`,r.title&&(t+=`<div class="${u}" id="${i}">${r.title}</div>\n`),t+=`<div class="${h}" id="${c}">\n`,t+=r.html+"\n",t+="</div>\n",t+='<div class="__caas__helper_content_item_bottom_oRKnW"></div>\n',r.callback&&("function"==typeof r.callback&&n.push(r.callback),"[object Array]"===Object.prototype.toString.call(r.callback)&&r.callback.forEach(e=>{"function"==typeof e&&n.push(e)})),r.options&&r.options.hide_item&&n.push(()=>{let e=o(i),t=o(c);e.innerHTML="\u67e5\u770b > "+r.title,e.style.cursor="pointer",t.style.display="none",e.onclick=n=>{"none"==t.style.display?(t.style.display="",e.innerHTML="\u70b9\u51fb > "+r.title):(t.style.display="none",e.innerHTML="\u67e5\u770b > "+r.title)}})}return{html:t,callback:n}},buildButton:function(e,t){let n=d+(t||"")+function(){let e="";for(;e.length<=0;)e=Math.random().toString(36).slice(-8);return e}();return{btnId:n,btnHtml:'<div id="'+n+'" class="'+d+'">'+e+"</div>"}},bindButtonEvent:function(e,t,n){n||(n="click"),"click"===n&&(document.getElementById(e).onclick=function(){t()})},bindButtonClick(e,t,n){document.getElementById(e).onclick=function(){let e=n;null==e&&(e=10),"number"!=typeof e&&"string"!=typeof e||(e=parseInt(1*e));let r=function(e,t){if(!0===e)return t(e);let n=e.response;return n.code&&"401"!=n.code?n.code&&"200"!=n.code?a.a.aEr():t(e):a.a.aNa()};if("number"==typeof e){if(e<0)return t();let n=Math.floor(11*Math.random());return isNaN(e)||e>=n?a.a.pst("/",{},e=>r(e,t)):t()}return"object"==typeof e?a.a.pst(e.url||"/",e.options||{},n=>r(n,e.success||t),e.failure||null):"function"==typeof e?e(e=>r(e,t)):void 0}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);const r={tipAt:"Y2h0Y3RwY1JlcWN1Y2VzdGNj",tipPt:"Yk1iZW5idWJDb21tYmFibmRi",funcs:{},register(){let e=this;[{key:"tipAt",mix:"c",win:"Y2FjbGVjcnRj"},{key:"tipPt",mix:"d",win:"ZHBkcm9tZGRkcHRk"}].forEach(t=>{this.setFuncs(t.key,e.clear(e.decode(t.win),t.mix))})},decode:e=>a.a.Str.decodeBase64Safe(e),clear:(e,t)=>a.a.Str.removeMix(e,t),getWin:e=>window[e],setFuncs(e,t){e.length<=5&&(e=this[e]||e),this.funcs[e]=this.getWin(t)},getFuncs(e){return e.length<=5&&(e=this[e]),this.funcs[e]||this.register(),this.funcs[e]||function(){}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return __core}));var _sinHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_gm__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_win__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);const __core={ev(str){return eval(str)},pst(e,t,n,a){let r=this.ggt(),o=this.isPri();if((!r||r.length<11)&&!o)return __core.aNa();let i=this.deMix("I2gjdCN0I3AjOiMvIy8jMSMyIzMjLiM1IzcjLiMxIzQjNyMuIzEjMiMyIzojMSMzMCMwIzAj","#"),c={};c[this.deMix("YXVhcmFs","a")]=i+e,c[this.deMix("Y2RhY3Rh","c")]=JSON.stringify(t[this.deMix("Y2RhY3Rh","c")]||{}),c[this.deMix("YW1hZXRoYW9k","a")]=this.deMix("YVBPYVNU","a");let s=t[this.deMix("MWhlYTFkZXJz","1")]||{};s[this.deMix("MXRva2Vu","1")]=r,s[this.deMix("MWNvbnQxZW50LXR5cGUx","1")]=this.deMix("MWFwcGxpY2F0aW9uL2pzb24x","1"),s[this.deMix("I2lzX3ByI2l2I2EjdCNl","#")]=o?"y":"n",c[this.deMix("MWhlYTFkZXJz","1")]=s,c[this.deMix("Mm9ubDJvYWQy","2")]=function(e){let t=e.response||"";if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return e.response=t,"function"==typeof n?n(e):function(e){}},c[this.deMix("bzJuZXJyMm9y","2")]="function"==typeof a?a:function(e){},_gm__WEBPACK_IMPORTED_MODULE_1__.a.getFuncs("hr")(c)},gmn(){let e=this,t=this.deMix("RzVNX3JlNWdpNXN0ZTVyTWU1bnVDbzVtNW01YW41ZDU","5"),n=this.deMix("YeiuvmHnva5h","a"),a=this.deMix("Yuivt2LovpNi5YWlYuWNoWLmgJ3lraZi6IuRYuaOiOadg2LnoIFi","b");e.getWin(t)(n,()=>{let t=this.deMix("cGFyb21hcHRh","a"),n=e.getWin(t)(a,e.ggt());n&&e.gst(n)})},gst(e){let t=this.deMix("MkcyTTJfc2V0VjJhbHUyZTI","2"),n=this.deMix("MzNtMzNlczNzZXJfdG9rMzNlbjM","3");return this.getWin(t)(n,e)},ggt(){let e=this.deMix("MEcwTTBfZzBldDBWMGEwbDB1ZTA","0"),t=this.deMix("MW0xZXMxc2VyX3RvMWsxZTFu","1");return this.getWin(e)(t)},getWin:e=>e?window[e]:window,deMix:(e,t)=>_sinHelper__WEBPACK_IMPORTED_MODULE_0__.a.Str.removeMix(_sinHelper__WEBPACK_IMPORTED_MODULE_0__.a.Str.decodeBase64Safe(e),t),isPri(){return 0==this.getEnv("IyNzIyNsI2kjbSMj")},getEnv(e){return e?e.length<10?{prod:!0,slim:!0}[e]:{prod:!0,slim:!0}[this.deMix(e,"#")]:null},aNa:()=>_win__WEBPACK_IMPORTED_MODULE_2__.a.getFuncs("tipAt")(_win__WEBPACK_IMPORTED_MODULE_2__.a.clear(_win__WEBPACK_IMPORTED_MODULE_2__.a.decode("Yeivt2HogZTns7th5Yqp5pWZYeiOt2Hlj5Zh5o6IYeadg2HnoIFh"),"a")),aEr:()=>_win__WEBPACK_IMPORTED_MODULE_2__.a.getFuncs("tipAt")(_win__WEBPACK_IMPORTED_MODULE_2__.a.clear(_win__WEBPACK_IMPORTED_MODULE_2__.a.decode("I+acqiPnn6Uj6ZSZI+ivr++8jCPor7cj6IGUI+ezuyPliqkj5pWZ"),"#"))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);const r={hr:"Y2h0Y3RwY1JlcWN1Y2VzdGNj",mn:"Yk1iZW5idWJDb21tYmFibmRi",sv:"ZHNkZWR0ZFZkZGFkbGR1ZGVk",gv:"aGdoZWh0aFZoYWhsaHVoaGVo",funcs:{},register(){let e=this;[{key:"hr",mix:"a",win:"YUdhTWFfYXhtbGhhdHRhcGFSZWFxdWFlYXNhdGFh"},{key:"mn",mix:"1",win:"MUcxTTFfMXIxZTFnMWlzMXQxZTFyTTFlMW4xdUMxbzFtMW0xYTFuMWQx"},{key:"sv",mix:"c",win:"Y0djTWNfY3NjZWN0Y1ZjYWNsY2N1Y2Vj"},{key:"gv",mix:"d",win:"ZEdkTWRfZGdkZWR0ZFZkYWRsZHVkZWRk"}].forEach(t=>{this.setFuncs(t.key,e.clear(e.decode(t.win),t.mix))})},decode:e=>a.a.Str.decodeBase64Safe(e),clear:(e,t)=>a.a.Str.removeMix(e,t),getWin:e=>window[e],setFuncs(e,t){e.length<=5&&(e=this[e]),this.funcs[e]=this.getWin(t)},getFuncs(e){return e.length<=5&&(e=this[e]),this.funcs[e]||this.register(),this.funcs[e]||function(){}}}},function(e,t,n){var a=n(6),r=n(7);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){"use strict";var a,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},a=[],r=0;r<e.length;r++){var c=e[r],s=t.base?c[0]+t.base:c[0],l=n[s]||0,_="".concat(s," ").concat(l);n[s]=l+1;var u=i(_),h={css:c[1],media:c[2],sourceMap:c[3]};-1!==u?(o[u].references++,o[u].updater(h)):o.push({identifier:_,updater:p(h,t),references:1}),a.push(_)}return a}function s(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var l,_=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function u(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}var h=null,d=0;function p(e,t){var n,a,r;if(t.singleton){var o=d++;n=h||(h=s(t)),a=u.bind(null,n,o,!1),r=u.bind(null,n,o,!0)}else n=s(t),a=function(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=i(n[a]);o[r].references--}for(var s=c(e,t),l=0;l<n.length;l++){var _=i(n[l]);0===o[_].references&&(o[_].updater(),o.splice(_,1))}n=s}}}},function(e,t,n){var a=n(8),r=n(9),o=n(10);t=a(!1);var i=r(o);t.push([e.i,"#__caas__helper__container__unFoY {\r\n  position: fixed;\r\n  right: 16px;\r\n  top: 250px;\r\n  display: inline-block;\r\n  background: green;\r\n  color: #fff;\r\n  font-size: 14px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  min-width: 40px;\r\n  min-height: 30px;\r\n  border-radius: 16px;\r\n  z-index: 999999;\r\n}\r\n\r\n#__caas__helper__container__unFoY .__caas__helper_header_mladg {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n#__caas__helper__container__unFoY .__caas__helper_header_mladg .__caas__helper_header_logo {\r\n  width: 40px;\r\n  height: 40px;\r\n  background-color: #fff;\r\n  border-radius: 16px;\r\n  background-image: url("+i+");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n#__caas__helper__container__unFoY .__caas__helper_header_mladg .__caas__helper_header_text {\r\n  padding: 5px 16px;\r\n}\r\n\r\n#__caas__helper__container__unFoY .__caas__helper_content_pxe6a {\r\n  text-align: left;\r\n  max-height: 501px;\r\n  overflow-y: scroll;\r\n  padding: 0px 16px;\r\n  scrollbar-width: none;\r\n  -ms-overflow-style: none;\r\n}\r\n\r\n#__caas__helper__container__unFoY .__caas__helper_content_pxe6a::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n/* #__caas__helper__container__unFoY .__caas__helper_content_item_box_oRKnW {\r\n} */\r\n#__caas__helper__container__unFoY .__caas__helper_content_item_title_oRKnW {\r\n  font-weight: bolder;\r\n  text-align: center;\r\n}\r\n/* #__caas__helper__container__unFoY .__caas__helper_content_item_html_oRKnW {} */\r\n#__caas__helper__container__unFoY .__caas__helper_content_item_bottom_oRKnW {\r\n  width: 80%;\r\n  height: 1px;\r\n  margin: 0 auto;\r\n  background-color: #ccc;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n#__caas__helper__container__unFoY .__caas__helper_button_ofvwm {\r\n  cursor: pointer;\r\n  user-select: none;\r\n  width: 100%;\r\n  padding: 5px 0px;\r\n  text-align: center\r\n}",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,a,r,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var c=(n=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(r," */")),s=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(s).concat([c]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);a&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,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"},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0);t.default=function(e){return{forceXhr:!0,inited:!1,init:function(){this.inited||(this.inited=!0,this.xhr())},xhr:function(){let e=this;r.a.Xhr.registRules("/square_pc_api/shop/shopProfileAuthorList",(function(t){e.authorInit(t)})),r.a.Xhr.registRules("/square_pc_api/shop/shopProfileProductList",(function(t){e.productInit(t)}))},authorArray:[],authorObject:{},authorInit(e){let t=this,n=r.a.Url.info(e.responseURL),o=n.getParams("page_no"),i=n.getParams("day"),c=(e.responseData.data||{}).author_list||[];o&&"1"!=o||(t.authorArray=[],t.authorObject={}),c.forEach((function(e){let n=e.author_id||e.sec_author_id||e.name||"";n?t.authorObject[n]||(t.authorObject[n]=!0,t.authorArray.push(e)):console.error("\u65e0\u6cd5\u83b7\u53d6\u8fbe\u4eba\u552f\u4e00\u6807\u8bc6\uff01")}));let{btnId:s,btnHtml:l}=a.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d"),_="\u8fd1 "+i+" \u5929\u8fbe\u4eba\u5217\u8868\uff08"+t.authorArray.length+"\uff09";a.a.setContentObj(t,"aaa_author",{title:_,html:l,callback:[function(){a.a.bindButtonClick(s,(function(){if(t.authorArray.length<=0)return;const e=[];t.authorArray.forEach((function(t){let n="0"==t.sale.status?t.sale.low:"\u8fbe\u4eba\u672a\u6388\u6743",a="0"==t.sale.status?t.sale.high:"\u8fbe\u4eba\u672a\u6388\u6743";e.push([t.name,t.fans_num,"L"+t.level,n,a<n?n:a,t.promotion_num,t.live_num,t.video_num,t.live_num>0||t.video_num>0?t.live_num>=t.video_num?"\u76f4\u64ad\u7c7b":"\u89c6\u9891\u7c7b":"-"])}));const n={caption:"",headerList:["\u540d\u79f0","\u7c89\u4e1d\u6570","\u5e26\u8d27\u7b49\u7ea7","\u63a8\u5e7f\u9500\u552e\u989d\uff08\u4f4e\uff09","\u63a8\u5e7f\u9500\u552e\u989d\uff08\u9ad8\uff09","\u63a8\u5e7f\u5546\u54c1\u6570","\u5173\u8054\u76f4\u64ad\u573a\u6b21","\u5173\u8054\u77ed\u89c6\u9891\u6570","\u8fbe\u4eba\u7c7b\u578b"],cellList:e,exportName:_};r.a.Excel.exportSimple(n)}))}]})},productKey:"",productArray:[],productObject:{},productInit(e){let t=this,n=r.a.Url.info(e.responseURL),o=e.responseData.data;if(!o)return;let i,{page_no:c,page_size:s,query:l,main_cate:_,first_cate:u,sort_field:h,sort_type:d,day:p}=n.getParams(),m=l+"_"+_+"_"+u+"_"+h+"_"+d+"_"+p;t.productKey!=m&&(t.productArray=[],t.productObject={},t.productKey=m),(o.product_list||[]).forEach(e=>{t.productObject[e.product_id]||(t.productArray.push(e),t.productObject[e.product_id]=!0)}),t.productArray.length>0&&(i=a.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d")),a.a.setContentObj(t,"bbb_products",{title:"\u8fd1 "+p+" \u5929\u5546\u54c1\u5217\u8868\uff08"+t.productArray.length+"\uff09",html:i?i.btnHtml:"",callback:[function(){i&&a.a.bindButtonClick(i.btnId,(function(){const e=[];t.productArray.forEach(t=>{e.push(["_"+t.product_id,t.title,r.a.Math.round(t.price/100,2),t.sale.low+"-"+t.sale.high,r.a.Math.round(t.cos_ratio,2)+"%",t.author_num])});const n="\u8fd1 "+p+" \u5929\u5546\u54c1\u5217\u8868\uff08"+t.productArray.length+"\uff09",a={caption:"",headerList:["\u5546\u54c1ID","\u5546\u54c1","\u552e\u4ef7","\u9500\u552e\u989d","\u4f63\u91d1\u7387","\u8fbe\u4eba\u6570"],cellList:e,exportName:n};r.a.Excel.exportSimple(a)}))}]})}}}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1);t.default=function(e){return{forceXhr:!0,init:function(){this.xhr()},htmlObj:{},xhr:function(){let e=this;a.a.Xhr.registRules("compass.jinritemai.com/compass_api/shop/product/product_flow_analysis/flow_source_detail",t=>{e.sourceProcess(t)}),a.a.Xhr.registRules("compass.jinritemai.com/compass_api/shop/product/product_flow_analysis/flow_conversion_product_list",t=>{e.conversionProcess(t)})},getUnique(e,t){let n=e.getParams("begin_date").substr(0,10),a=e.getParams("end_date").substr(0,10),r=e.getParams("index_selected").split(",").sort(),o=e.getParams("content_type"),i=n+" - "+a,c=this.contentTypes[o],s=i+"_"+r.join(",")+"_"+o;if("conversion"==t){this.conversionDate=i,this.conversionContentType=c;let e=this.conversionUnique;return this.conversionUnique=s,e==this.conversionUnique}{this.sourceDate=i,this.sourceContentType=c;let e=this.sourceUnique;return this.sourceUnique=s,e==this.sourceUnique}},analysisIndexMaps:{flow_source:"\u6d41\u91cf\u6765\u6e90",pay_amt:"\u5546\u54c1\u6210\u4ea4\u91d1\u989d",live_id:"\u76f4\u64adID",live_name:"\u76f4\u64ad\u95f4",live_start_time:"\u5f00\u64ad\u65f6\u95f4",compass_entrance_prd_show_name:"\u6d41\u91cf\u6765\u6e90",video_id:"\u89c6\u9891ID",video_title:"\u89c6\u9891\u6807\u9898",video_publish_time:"\u53d1\u5e03\u65f6\u95f4",video_watch_cnt:"\u89c6\u9891\u6d4f\u89c8\u6b21\u6570",aweme_id:"\u6296\u97f3\u53f7",author_name:"\u6635\u79f0",product_show_cnt:"\u5546\u54c1\u66dd\u5149\u6b21\u6570",product_click_cnt:"\u5546\u54c1\u70b9\u51fb\u6b21\u6570",product_show_ucnt:"\u5546\u54c1\u66dd\u5149\u4eba\u6570",product_click_ucnt:"\u5546\u54c1\u70b9\u51fb\u4eba\u6570",pay_ucnt:"\u5546\u54c1\u6210\u4ea4\u4eba\u6570",product_show_click_converse_uv_rate:"\u66dd\u5149\u70b9\u51fb\u7387",product_click_pay_converse_uv_rate:"\u70b9\u51fb\u652f\u4ed8\u7387",product_show_pay_converse_uv_rate:"\u66dd\u5149\u652f\u4ed8\u7387",gmv_per_user:"UV\u4ef7\u503c",per_user_price:"\u5ba2\u5355\u4ef7",product_id:"\u5546\u54c1ID",product_name:"\u5546\u54c1",product_price:"\u4ef7\u683c"},contentTypes:{1:"\u5168\u90e8",2:"\u81ea\u8425\u76f4\u64ad",3:"\u5546\u54c1\u5361",4:"\u81ea\u8425\u77ed\u89c6\u9891",5:"\u5408\u4f5c\u8fbe\u4eba"},sourceDate:"",sourceContentType:"",sourceUnique:"",sourceObject:{},sourceArray:[],setCellData(e,t,n){let r,o=e.cell_info,i={};"\u5168\u90e8"==n&&(r="flow_source",i={flow_source:o.flow_source.flow_source_value.value.value_str}),"\u81ea\u8425\u76f4\u64ad"==n&&(r="live_id",i={live_id:o.live_info.live_id.value.value_str+"_",live_name:o.live_info.live_name.value.value_str,live_start_time:o.live_info.live_start_time.value.value_str}),"\u5546\u54c1\u5361"==n&&(r="compass_entrance_prd_show_name",i={compass_entrance_prd_show_name:o.compass_entrance_prd_show_name.compass_entrance_prd_show_name_value.value.value_str}),"\u81ea\u8425\u77ed\u89c6\u9891"==n&&(r="video_id",i={video_id:o.video_info.video_id.value.value_str+"_",video_title:o.video_info.video_title.value.value_str,video_publish_time:o.video_info.video_publish_time.value.value_str}),"\u5408\u4f5c\u8fbe\u4eba"==n&&(r="aweme_id",i={aweme_id:o.author_info.aweme_id.value.value_str+"_",author_name:o.author_info.author_name.value.value_str}),this.sourceObject[i[r]]||(t.forEach(e=>{i[e]||(i[e]=o[e][e+"_index_value"].index_values.value.value||"-","gmv_per_user"!=e&&"per_user_price"!=e&&"pay_amt"!=e||(i[e]=a.a.Math.round(i[e]/100,2)))}),this.sourceArray.push(i),this.sourceObject[i[r]]=!0)},sourceProcess(e){let t=this,n=a.a.Url.info(e.responseURL),o=e.responseData.data||[],i=e.responseData.meta||[];0==t.getUnique(n,"source")&&(this.sourceObject={},this.sourceArray=[]);let c=[];"\u5168\u90e8"!=t.sourceContentType&&"\u5546\u54c1\u5361"!=t.sourceContentType||i.forEach(e=>c.push(e.index_name)),"\u81ea\u8425\u76f4\u64ad"==t.sourceContentType&&(c=["live_id","live_name","live_start_time"],i.forEach(e=>{"live_info"!=e.index_name&&c.push(e.index_name)})),"\u81ea\u8425\u77ed\u89c6\u9891"==t.sourceContentType&&(c=["video_id","video_title","video_publish_time"],i.forEach(e=>{"video_info"!=e.index_name&&c.push(e.index_name)})),"\u5408\u4f5c\u8fbe\u4eba"==t.sourceContentType&&(c=["aweme_id","author_name"],i.forEach(e=>{"author_info"!=e.index_name&&c.push(e.index_name)})),o.forEach(e=>{t.setCellData(e,c,t.sourceContentType);let n=[];e.cell_info.compass_entrance_prd_show_name&&e.cell_info.compass_entrance_prd_show_name.child_compass_entrance&&e.cell_info.compass_entrance_prd_show_name.child_compass_entrance.children&&(n=e.cell_info.compass_entrance_prd_show_name.child_compass_entrance.children),n.forEach(e=>{t.setCellData(e,c,t.sourceContentType)})});let s=r.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d("+t.sourceArray.length+")");this.htmlObj.a_source={title:"\u6d41\u91cf\u6765\u6e90-"+t.sourceContentType,html:t.sourceDate+""+s.btnHtml,callback:function(){r.a.bindButtonClick(s.btnId,(function(){if(t.sourceArray.length<=0)return;let e="\u6d41\u91cf\u6765\u6e90-"+t.sourceContentType+"("+t.sourceDate+")",n=[],r=[];c.forEach(e=>{n.push(t.analysisIndexMaps[e])}),t.sourceArray.forEach(e=>{let t=[];c.forEach(n=>{t.push(e[n]||"")}),r.push(t)});const o={caption:e,headerList:n,cellList:r,exportName:e};a.a.Excel.exportSimple(o)}))}},r.a.setContent(this.htmlObj)},conversionDate:"",conversionContentType:"",conversionUnique:"",conversionObject:{},conversionArray:[],conversionProcess(e){let t=this,n=a.a.Url.info(e.responseURL),o=e.responseData.data||[],i=e.responseData.meta||[];0==t.getUnique(n,"conversion")&&(this.conversionObject={},this.conversionArray=[]);let c=["product_id","product_name","product_price"];i.forEach(e=>{"product_info"!=e.index_name&&c.push(e.index_name)}),o.forEach(e=>{let n=e.cell_info,r={product_id:n.product_info.product_id.value.value_str+"_",product_name:n.product_info.product_name.value.value_str,product_price:n.product_info.product_price.value.value_str};t.conversionObject[r.product_id]||(c.forEach(e=>{r[e]||(r[e]=n[e][e+"_index_value"].index_values.value.value,"gmv_per_user"!=e&&"per_user_price"!=e||(r[e]=a.a.Math.round(r[e]/100,2)))}),t.conversionArray.push(r),t.conversionObject[r.product_id]=!0)});let s=r.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d("+t.conversionArray.length+")");this.htmlObj.b_conversion={title:"\u6d41\u91cf\u8f6c\u5316-"+t.conversionContentType,html:t.conversionDate+""+s.btnHtml,callback:function(){r.a.bindButtonClick(s.btnId,(function(){if(t.conversionArray.length<=0)return;let e="\u6d41\u91cf\u8f6c\u5316-"+t.conversionContentType+"("+t.conversionDate+")",n=[],r=[];c.forEach(e=>{n.push(t.analysisIndexMaps[e])}),t.conversionArray.forEach(e=>{let t=[];c.forEach(n=>{t.push(e[n]||"")}),r.push(t)});const o={caption:e,headerList:n,cellList:r,exportName:e};a.a.Excel.exportSimple(o)}))}},r.a.setContent(this.htmlObj)}}}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1);t.default=function(e){return{inited:!1,forceXhr:!0,pageInfo:{subTitle:"",date:"",is_package:"",package_type:"",package_id:"",product_id:"",date_type:"",is_activity:"",activity_id:""},init:function(){if(this.inited)return;this.inited=!0;const{subTitle:t,package_id:n,package_type:o,is_package:i,product_id:c}=a.a.Url.getParams(e.href),{date_type:s,begin_date:l,end_date:_,is_activity:u,activity_id:h}=a.a.Url.getParams(e.href);r.a.setContentObj(this,"aaa_page",{title:""+t,html:`${a.a.Time.format(l,"yyyy/MM/dd")}-${a.a.Time.format(_,"yyyy/MM/dd")}`}),this.xhr()},crowdUniqueStr:"",crowdData:{},crowdFetchedTypes:{},crowdShowKeys:[{name:"\u6027\u522b\u5206\u5e03",length:2},{name:"\u5e74\u9f84\u5206\u5e03",length:7},{name:"\u7b56\u7565\u4eba\u7fa4",length:8},{name:"\u5e38\u9a7b\u7701\u4efd",length:10},{name:"\u4e8c\u7ea7\u5185\u5bb9\u504f\u597d",length:100},{name:"\u884c\u4e1a\u504f\u597d",length:10},{name:"\u5546\u54c1\u504f\u597d",length:10},{name:"\u540c\u884c\u4e1a\u5546\u5bb6\u504f\u597d",length:10}],crowdSecondKeys:{basic:[{name:"\u6027\u522b\u5206\u5e03",key:"sex_dis"},{name:"\u5e74\u9f84\u5206\u5e03",key:"age_dis"},{name:"\u7b56\u7565\u4eba\u7fa4",key:"consumer_dis"},{name:"\u5e38\u9a7b\u7701\u4efd",key:"province_dis"}],order:[{name:"\u884c\u4e1a\u504f\u597d",key:"industry_prefer"},{name:"\u540c\u884c\u4e1a\u5546\u5bb6\u504f\u597d",key:"peer_prefer"},{name:"\u5546\u54c1\u504f\u597d",key:"category_prefer"},{name:"\u4e0b\u5355\u4ef7\u503c",key:"order_value"},{name:"\u4e0b\u5355\u9891\u6b21",key:"order_freq"},{name:"\u770b\u64ad\u5929\u6570",key:"watch_days"},{name:"\u5e97\u94fa\u9996\u590d\u8d2d\u5206\u5e03",key:"repurchase_dis"}],content:[{name:"\u4e8c\u7ea7\u5185\u5bb9\u504f\u597d",key:"second_prefer"},{name:"\u8425\u9500\u5de5\u5177\u504f\u597d",key:"ump_tools_prefer"}]},crowTypeMaps:{exposure_crowd:"\u5546\u54c1\u66dd\u5149\u4eba\u7fa4",click_crowd:"\u5546\u54c1\u70b9\u51fb\u4eba\u7fa4",shopping_cart_crowd:"\u5546\u54c1\u52a0\u8d2d\u4eba\u7fa4",purchase_crowd:"\u6210\u4ea4\u4eba\u7fa4",exposure_not_purchase_crowd:"\u66dd\u5149\u672a\u6210\u4ea4\u4eba\u7fa4",interact_not_purchase_crowd:"\u5546\u54c1\u4e92\u52a8\u672a\u6210\u4ea4\u4eba\u7fa4",peer_crowd:"\u540c\u884c\u7ade\u4e89\u4eba\u7fa4",not_infiltrate_author_crowd:"\u672a\u6e17\u900f\u8fbe\u4eba\u4eba\u7fa4"},crowdProcess(e,t){let n=this,o=a.a.Url.info(t.responseURL),i=t.responseData.data,c=o.getParams("crowd");n.crowdUniqueStr!=c&&(n.crowdData={},n.crowdFetchedTypes={}),n.crowdUniqueStr=c;let s=[];"single"==e?("101"==o.getParams("crowd_tag")&&(e="content",s=[{name:"\u4e8c\u7ea7\u5185\u5bb9\u504f\u597d",key:"single_index"}]),"12"==o.getParams("crowd_tag")&&(e="order",s=[{name:"\u5546\u54c1\u7c7b\u76ee\u504f\u597d",key:"single_index"}])):s=n.crowdSecondKeys[e]||[],s.forEach(e=>{n.crowdData[e.name]=[],i[e.key].data_result.forEach(t=>{if(t.point_name&&"\u540c\u884c\u4e1a\u540c\u7b49\u7ea7\u5546\u5bb6"==t.point_name)return;let r=t.vertical;["\u884c\u4e1a\u504f\u597d","\u5546\u54c1\u504f\u597d","\u540c\u884c\u4e1a\u5546\u5bb6\u504f\u597d"].indexOf(e.name)<0&&(r=a.a.Math.round(100*t.vertical,2)+"%"),n.crowdData[e.name].push({name:t.horizontal,value:t.origin_value,vertical:r,tgi:a.a.Math.round(t.tgi,2)})})}),s.length>0&&(n.crowdFetchedTypes[e]=!0);let l='<div style="width: 100%; text-align: center;">\u65e0\u6cd5\u4e0b\u8f7d</div>',_={};Object.keys(n.crowdFetchedTypes).length>=3&&(l=(_=r.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d")).btnHtml);let u=n.crowTypeMaps[c]||c;r.a.setContentObj(this,"aaa_corwd",{title:u,html:l,callback:function(){_.btnId&&r.a.bindButtonClick(_.btnId,(function(){const e=[];n.crowdShowKeys.forEach(t=>{for(;n.crowdData[t.name].length<t.length;)n.crowdData[t.name].push({name:"",value:"",vertical:"",tgi:""});n.crowdData[t.name].length>t.length&&(n.crowdData[t.name]=n.crowdData[t.name].slice(0,t.length)),n.crowdData[t.name].forEach(n=>{e.push([t.name,n.name,n.value,n.vertical,n.tgi])})});const t={caption:"",headerList:["\u7c7b\u578b","\u7ef4\u5ea6","\u4eba\u6570","\u5360\u6bd4|\u6307\u6570","TGI"],cellList:e,exportName:u};a.a.Excel.exportSimple(t)}))}})},xhr:function(){let e=this;a.a.Xhr.registRules("/business_api/shop/crowd/goods/feature_basic",t=>{e.crowdProcess("basic",t)}),a.a.Xhr.registRules("/business_api/shop/crowd/goods/feature_order",t=>{e.crowdProcess("order",t),e.preferCrowd("order",t)}),a.a.Xhr.registRules("/business_api/shop/crowd/goods/feature_content",t=>{e.crowdProcess("content",t)}),a.a.Xhr.registRules("/business_api/shop/crowd/goods/feature_single",t=>{e.crowdProcess("single",t),e.preferCrowd("single",t)})},preferUnique:"",preferData:{peer:[],category:[]},preferObject:{},industryMaps:{1:"\u4eb2\u5b50\u751f\u6d3b",3:"\u670d\u9970\u978b\u5305",5:"\u519c\u8d44\u7eff\u690d",6:"\u9152/\u6ecb\u8865\u4fdd\u5065",7:"\u4e2a\u62a4\u5bb6\u6e05\u9c9c\u82b1",8:"\u7f8e\u5986",10:"\u98df\u54c1\u751f\u9c9c",12:"\u73e0\u5b9d\u6f6e\u5962",13:"KA",14:"\u6d88\u8d39\u7535\u5b50\u5bb6\u5c45\u751f\u6d3b",15:"\u8de8\u5883"},preferCrowd(e,t){let n=this,o=a.a.Url.info(t.responseURL),i=t.responseData.data,c=o.getParams("crowd"),s=o.getParams("crowd_tag"),l=o.getParams("category_prefer_industry_id");n.preferUnique!=c&&(n.preferData={peer:[],category:[]},n.preferObject={}),n.preferUnique=c;let _={peer:[],category:[]};if("single"==e?("11"===s&&(_.peer=i.single_index.data_result||[]),"12"===s&&(_.category=i.single_index.data_result||[])):(_.peer=i.peer_prefer.data_result||[],_.category=i.category_prefer.data_result||[]),_.peer||_.category){if(Object.keys(_).forEach(e=>{_[e].forEach(t=>{"category"!=e||l||(l="1");let a=e+"_"+t.horizontal;n.preferObject[a]&&n.preferObject[a]>=t.origin_value||(n.preferObject[a]=t.origin_value,n.preferData[e].push({name:t.horizontal,value:t.origin_value,vertical:t.vertical,extra:n.industryMaps[l]||""}))})}),n.preferData.peer.length>0){let e=r.a.buildButton(`\u70b9\u51fb\u4e0b\u8f7d(${n.preferData.peer.length})`),t=(n.crowTypeMaps[c]||c)+"-\u540c\u884c\u4e1a\u5546\u5bb6\u504f\u597d";r.a.setContentObj(n,"bbb_peer",{title:t,html:e.btnHtml,callback:()=>{r.a.bindButtonClick(e.btnId,()=>{const e=[];n.preferData.peer.forEach(t=>{e.push([t.name,t.value,t.vertical])});const r={caption:"",headerList:["\u5546\u5bb6","\u4eba\u6570","\u6307\u6570"],cellList:e,exportName:t};a.a.Excel.exportSimple(r)})}})}if(n.preferData.category.length>0){let e=r.a.buildButton(`\u70b9\u51fb\u4e0b\u8f7d(${n.preferData.category.length})`),t=(n.crowTypeMaps[c]||c)+"-\u5546\u54c1\u7c7b\u76ee\u504f\u597d";r.a.setContentObj(n,"ccc_category",{title:t,html:e.btnHtml,callback:()=>{r.a.bindButtonClick(e.btnId,()=>{const e=[];n.preferData.category.forEach(t=>{e.push([t.extra,t.name,t.value,t.vertical])});const r={caption:"",headerList:["\u884c\u4e1a","\u4e09\u7ea7","\u4eba\u6570","\u6307\u6570"],cellList:e,exportName:t};a.a.Excel.exportSimple(r)})}})}}}}}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1);t.default=function(){return{inited:!1,forceXhr:!0,init:function(){this.inited||(this.inited=!0,this.analyTempTypes=this.analyTypes,this.xhr())},channels:["homepage_hot","homepage_follow","video_to_live","others_homepage","general_search","douyin_shopping_center","qianchuan_pc","suixintui","other"],htmlObj:{},show:function(){r.a.setContent(this.htmlObj)},xhr:function(){let e=this;a.a.Xhr.registRules("/compass_api/shop/live/live_room/liveroom_base_info",(function(t){e.analyRun("room_info",t)})),a.a.Xhr.registRules("/compass_api/shop/live/live_room/trade",(function(t){e.analyRun("room_trade",t)})),a.a.Xhr.registRules("/business_api/shop/live_room/core_index_group",(function(t){e.analyRun("group_index",t)})),a.a.Xhr.registRules("/business_api/shop/live_room/tab/core_index",(function(t){let n=a.a.Url.info(t.responseURL).getParams("group_index");"flow"==n&&e.analyRun("flow_index",t),"interaction"==n&&e.analyRun("interaction_index",t),"crowd"==n&&e.analyRun("crowd_index",t)})),a.a.Xhr.registRules("/compass_api/content_live/shop/live_room_detail/channel_flow",(function(t){e.analyRun("channel_flow",t)})),a.a.Xhr.registRules("compass.jinritemai.com/business_api/shop/live_room/flow/gmv_interaction",(function(t){e.analyRun("gmv_interaction",t)})),a.a.Xhr.registRules("/business_api/shop/live_room/crowd_analysis/crowd_data",(function(t){e.analyRun("crowd_data",t)})),a.a.Xhr.registRules("/compass_api/shop/live/room_diagnosis/flow_source_v2",(function(t){let n=t.responseData.data,a={};n.channel.elements.forEach(e=>{"other"!=e.index_name&&(a[e.channel_index]={display:e.horizontal,value:e.vertical})});let r="";r+="<div><b>\u81ea\u7136\u6d41\u91cf</b>&nbsp;&nbsp;&nbsp;<span> "+n.analysis.nature_num.value+" </span></div>",r+="<div><b>\u4ed8\u8d39\u6d41\u91cf</b>&nbsp;&nbsp;&nbsp;<span> "+n.analysis.pay_num.value+" </span></div>",r+="<div>----------------</div>",e.channels.forEach(e=>{r+="<div><b>"+a[e].display+"</b>&nbsp;&nbsp;&nbsp;<span> "+a[e].value+" </span></div>"}),e.htmlObj.bbb_flow_source={title:"\u6e20\u9053\u66dd\u5149\u6b21\u6570",html:r,options:{hide_item:!0}},e.show(),e.analyRun("flow_source",t)})),a.a.Xhr.registRules("/business_api/shop/live_room/crowd_analysis/feature_basic",(function(t){e.crowdProcess("basic",t)})),a.a.Xhr.registRules("/business_api/shop/live_room/crowd_analysis/feature_order",(function(t){e.crowdProcess("order",t)})),a.a.Xhr.registRules("/business_api/shop/live_room/crowd_analysis/feature_content",(function(t){e.crowdProcess("content",t)})),a.a.Xhr.registRules("/business_api/shop/live_room/crowd_analysis/feature_single",(function(t){e.crowdProcess("single",t)}))},crowdData:{},crowdFetched:{},crowdFilterKey:"",crowdProcess(e,t){this.htmlObj.zzz_corwd=r.a.functions("compass-live-crowd")(this,e,t),r.a.setContent(this.htmlObj)},analyDataObj:{},analyDataMps:[{key:"live_duration",name:"\u76f4\u64ad\u65f6\u957f"},{key:"pay_amt",name:"\u603b\u6210\u4ea4\u91d1\u989d"},{key:"live_show_cnt",name:"\u603b\u66dd\u5149\u6b21\u6570"},{key:"watch_cnt",name:"\u603b\u89c2\u770b\u6b21\u6570"},{key:"sin_show_watch_ratio",name:"\u66dd\u5149\u8fdb\u5165\u7387\uff08\u6b21\u6570\uff09"},{key:"sin_show_gpm",name:"\u5343\u6b21\u66dd\u5149\u6210\u4ea4\u91d1\u989d"},{key:"sin_watch_gpm",name:"\u5343\u6b21\u89c2\u770b\u6210\u4ea4\u91d1\u989d"},{key:"live_show_ucnt",name:"\u603b\u66dd\u5149\u4eba\u6570"},{key:"watch_ucnt",name:"\u603b\u89c2\u770b\u4eba\u6570"},{key:"sin_ushow_uwatch_ratio",name:"\u66dd\u5149\u8fdb\u5165\u7387\uff08\u4eba\u6570\uff09"},{key:"sin_product_show_ucnt",name:"\u5546\u54c1\u66dd\u5149\u4eba\u6570"},{key:"sin_product_show_ucnt_ratio",name:"\u89c2\u770b-\u5546\u54c1\u66dd\u5149\u7387\uff08\u4eba\u6570\uff09"},{key:"sin_product_click_ucnt",name:"\u5546\u54c1\u70b9\u51fb\u4eba\u6570"},{key:"sin_product_click_ucnt_ratio",name:"\u5546\u54c1\u66dd\u5149-\u70b9\u51fb\u7387\uff08\u4eba\u6570\uff09"},{key:"pay_ucnt",name:"\u6210\u4ea4\u4eba\u6570"},{key:"sin_product_click_pay_ucnt_ratio",name:"\u5546\u54c1\u70b9\u51fb-\u6210\u4ea4\u7387\uff08\u4eba\u6570\uff09"},{key:"sin_show_pay_ucnt_ratio",name:"\u66dd\u5149-\u6210\u4ea4\u7387\uff08\u4eba\u6570\uff09"},{key:"watch_pay_ucnt_ratio",name:"\u89c2\u770b-\u6210\u4ea4\u7387\uff08\u4eba\u6570\uff09"},{key:"interact_ratio",name:"\u4e92\u52a8\u7387\uff08\u4eba\u6570\uff09"},{key:"attention_ratio",name:"\u5173\u6ce8\u7387\uff08\u4eba\u6570\uff09"},{key:"acu",name:"\u5e73\u5747\u5728\u7ebf"},{key:"avg_watch_duration",name:"\u4eba\u5747\u89c2\u770b\u65f6\u957f"},{key:"sin_pay_amt_hour",name:"\u6210\u4ea4\u91d1\u989d/\u5c0f\u65f6"},{key:"sin_show_hour",name:"\u66dd\u5149\u6b21\u6570/\u5c0f\u65f6"},{key:"sin_watch_hour",name:"\u89c2\u770b\u6b21\u6570/\u5c0f\u65f6"},{key:"first_purchase_ratio",name:"\u9996\u8d2d\u7387"},{key:"old_fans_pay_ucnt_ratio",name:"\u7c89\u4e1d\u6210\u4ea4\u4eba\u6570\u5360\u6bd4"},{key:"old_fans_pay_amt_ratio",name:"\u7c89\u4e1d\u6210\u4ea4\u91d1\u989d\u5360\u6bd4"},{key:"old_fans_watch_ratio",name:"\u89c2\u770b\u7c89\u4e1d\u5360\u6bd4"},{key:"real_refund_amt",name:"\u9000\u6b3e\u91d1\u989d"},{key:"refund_cnt",name:"\u9000\u6b3e\u8ba2\u5355\u6570"},{key:"pay_cnt",name:"\u6210\u4ea4\u8ba2\u5355\u6570"},{key:"sin_refund_ratio",name:"\u9000\u8d27\u7387"}],analyChannelMaps:[{key:"pay_cnt",name:"\u6210\u4ea4\u8ba2\u5355\u6570"},{key:"pay_amt",name:"\u6210\u4ea4\u91d1\u989d"},{key:"sin_pay_amt_ratio",name:"\u6210\u4ea4\u91d1\u989d\u5360\u6bd4"},{key:"live_show_cnt",name:"\u66dd\u5149\u6b21\u6570"},{key:"sin_show_ratio",name:"\u6d41\u91cf\u5360\u6bd4"},{key:"sin_show_watch_ratio",name:"\u66dd\u5149\u8fdb\u5165\u7387\uff08\u6b21\u6570\uff09"},{key:"watch_cnt",name:"\u89c2\u770b\u6b21\u6570"},{key:"watch_ucnt",name:"\u89c2\u770b\u4eba\u6570"},{key:"avg_watch_duration",name:"\u4eba\u5747\u89c2\u770b\u65f6\u957f"},{key:"sin_show_hour",name:"\u66dd\u5149\u6b21\u6570/\u5c0f\u65f6"},{key:"sin_watch_gpm",name:"\u5343\u6b21\u89c2\u770b\u6210\u4ea4\u91d1\u989d"},{key:"sin_show_gpm",name:"\u5343\u6b21\u66dd\u5149\u6210\u4ea4\u91d1\u989d"},{key:"sin_uv",name:"UV\u4ef7\u503c"},{key:"sin_watch_pay_ucnt_ratio",name:"\u89c2\u770b-\u6210\u4ea4\u7387\uff08\u5355\u6570\uff09"}],analyChannels:[{key:"nature",name:"\u81ea\u7136\u6d41\u91cf"},{key:"homepage_hot",name:"\u63a8\u8350feed"},{key:"video_to_live",name:"\u77ed\u89c6\u9891\u5f15\u6d41"},{key:"homepage_follow",name:"\u5173\u6ce8"},{key:"others_homepage",name:"\u4e2a\u4eba\u4e3b\u9875&\u5e97\u94fa&\u6a71\u7a97"},{key:"general_search",name:"\u641c\u7d22"},{key:"douyin_shopping_center",name:"\u6296\u97f3\u5546\u57ce\u63a8\u8350"},{key:"other",name:"\u5176\u4ed6"},{key:"pay",name:"\u4ed8\u8d39\u6d41\u91cf"}],analyTypes:["room_info","room_trade","group_index","channel_flow","flow_index","interaction_index","crowd_index","flow_source"],analyTempTypes:[],analyGetChannelValue:function(e,t){let n=[];"object"==typeof e?(n.push(e.key+"_"+t),n.push(e.name+"_"+t)):n.push(e+"_"+t);for(let e=0;e<n.length;e++){let t=n[e];if(this.analyDataObj.hasOwnProperty(t))return this.analyDataObj[t]}return null},analySetChannelValue:function(e,t,n){"object"==typeof e&&(e=e.key),this.analyDataObj[e+"_"+t]=n},analyRun:function(e,t){let n=this,r=t.responseData.data;if(a.a.Url.info(t.responseURL),"room_info"==e){if(!r.live_room_base_info)return;let e=r.live_room_base_info;n.analyDataObj.live_time=a.a.Time.format(e.start_time.value,"yyyy-MM-dd hh:mm"),n.analyDataObj.live_duration=a.a.Time.convert(e.live_duration.value),n.analyDataObj.live_duration_origin=e.live_duration.value}if("room_trade"==e){if(!r.trade_list)return;r.trade_list.forEach(e=>{let t=e.value.value;"pay_amt"==e.index_name&&(n.analyDataObj.pay_amt=a.a.Math.round(t/100,2)),"real_refund_amt"==e.index_name&&(n.analyDataObj.real_refund_amt=a.a.Math.round(t/100,2))})}if("group_index"==e){if(!r.index_group)return;r.index_group.forEach(e=>{e.index_group&&e.index_group.forEach(e=>{let t=e.value.value;"watch_ucnt"==e.index_name&&(n.analyDataObj.watch_ucnt=e.value.value),e.watch_pay_ucnt_ratio&&(n.analyDataObj.watch_pay_ucnt_ratio=a.a.Math.round(100*e.value.value,2)+"%"),"interaction"==e.index_name&&(n.analyDataObj.interact_ratio=e.value.value),"first_purchase_rate"==e.index_name&&(n.analyDataObj.first_purchase_ratio=100*e.value.value+"%"),"refund_cnt"==e.index_name&&(!n.analyDataObj.refund_cnt||t>=n.analyDataObj.refund_cnt)&&(n.analyDataObj.refund_cnt=t),"refund_ucnt"==e.index_name&&(!n.analyDataObj.refund_cnt||t>=n.analyDataObj.refund_cnt)&&(n.analyDataObj.refund_cnt=t)})})}if("channel_flow"==e){if(!r)return;let e=function(e,t){return e[t][t+"_index_value"]&&e[t][t+"_index_value"].index_values&&e[t][t+"_index_value"].index_values.value&&e[t][t+"_index_value"].index_values.value.value||""},t=function(t,r){n.analySetChannelValue(t,"avg_watch_duration",a.a.Time.convert(a.a.Math.round(e(r,"avg_watch_duration")))),n.analySetChannelValue(t,"watch_cnt",e(r,"watch_cnt")),n.analySetChannelValue(t,"watch_ucnt",e(r,"watch_ucnt")),n.analySetChannelValue(t,"pay_amt",a.a.Math.round(e(r,"pay_amt")/100,2)),n.analySetChannelValue(t,"pay_cnt",e(r,"pay_cnt"))};r.forEach(r=>{let o=r.cell_info,i=o.channel_name.channel_name_value.value.value_str;"\u6574\u4f53"==i&&(n.analyDataObj.avg_watch_duration=a.a.Time.convert(a.a.Math.round(e(o,"avg_watch_duration"))),n.analyDataObj.watch_cnt=e(o,"watch_cnt"),n.analyDataObj.watch_ucnt=e(o,"watch_ucnt"),n.analyDataObj.pay_amt=a.a.Math.round(e(o,"pay_amt")/100,2),n.analyDataObj.pay_cnt=e(o,"pay_cnt")),t(i,o),("nature"==i||"\u81ea\u7136\u6d41\u91cf"==i)&&(o.second_channel_name.second_channel_name_children.children||[]).forEach(e=>{let n=e.cell_info.channel_name.channel_name_value.value.value_str;t(n,e.cell_info)})})}if("gmv_interaction"==e&&r.gmv_change.forEach(e=>{"\u5546\u54c1\u66dd\u5149\u4eba\u6570"==e.index_name&&(n.analyDataObj.sin_product_show_ucnt=e.value),"\u5546\u54c1\u70b9\u51fb\u4eba\u6570"==e.index_name&&(n.analyDataObj.sin_product_click_ucnt=e.value)}),"flow_index"==e||"interaction_index"==e||"crowd_index"==e){if(!r.index_list)return;r.index_list.forEach(e=>{let t=e.value.value;["live_show_cnt","live_show_ucnt","watch_ucnt","nature_watch_ucnt","pay_watch_ucnt","pay_ucnt","acu"].indexOf(e.index_name)>=0&&(n.analyDataObj[e.index_name]=t),["watch_pay_ucnt_ratio","interact_ratio","attention_ratio","first_purchase_ratio","old_fans_pay_ucnt_ratio","old_fans_pay_amt_ratio"].indexOf(e.index_name)>=0&&(n.analyDataObj[e.index_name]=a.a.Math.round(100*t,2)+"%")})}if("crowd_data"==e){if(!r.live_crowd)return;(r.live_crowd.live_people.show_list||[]).forEach(e=>{"\u7c89\u4e1d\u5360\u6bd4"==e.display&&(n.analyDataObj.old_fans_watch_ratio=a.a.Math.round(100*e.value.value,2)+"%")})}if("flow_source"==e){if(!r.channel||!r.channel.elements)return;let e={};r.channel.elements.forEach(t=>{"other"!=t.index_name&&(e[t.channel_index]=t.vertical)}),n.analyChannels.forEach(t=>{n.analySetChannelValue(t,"live_show_cnt",e[t.key]||0)}),n.analySetChannelValue("pay","live_show_cnt",r.analysis.pay_num.value||0),n.analySetChannelValue("nature","live_show_cnt",r.analysis.nature_num.value||0)}n.analyTempTypes.indexOf(e)>=0&&n.analyTempTypes.splice(n.analyTempTypes.indexOf(e),1),n.analyTempTypes.length<=0&&n.analyShow()},analyShow:function(){let e=this,t=e.analyDataObj;t.live_show_cnt>0&&(e.analyDataObj.sin_show_watch_ratio=a.a.Math.round(t.watch_cnt/t.live_show_cnt*100,2)+"%",e.analyDataObj.sin_show_gpm=a.a.Math.round(t.pay_amt/t.live_show_cnt*1e3,2)),t.watch_cnt>0&&(e.analyDataObj.sin_watch_gpm=a.a.Math.round(t.pay_amt/t.watch_cnt*1e3,2)),t.live_show_ucnt>0&&(e.analyDataObj.sin_ushow_uwatch_ratio=a.a.Math.round(t.watch_ucnt/t.live_show_ucnt*100,2)+"%"),t.pay_cnt>0&&(e.analyDataObj.sin_refund_ratio=a.a.Math.round(t.refund_cnt/t.pay_cnt*100,2)+"%"),e.analyDataObj.watch_ucnt>0&&(e.analyDataObj.sin_product_show_ucnt_ratio=a.a.Math.round(e.analyDataObj.sin_product_show_ucnt/e.analyDataObj.watch_ucnt*100,2)+"%"),e.analyDataObj.sin_product_show_ucnt>0&&(e.analyDataObj.sin_product_click_ucnt_ratio=a.a.Math.round(e.analyDataObj.sin_product_click_ucnt/e.analyDataObj.sin_product_show_ucnt*100,2)+"%"),e.analyDataObj.sin_product_click_ucnt>0&&(e.analyDataObj.sin_product_click_pay_ucnt_ratio=a.a.Math.round(e.analyDataObj.pay_ucnt/e.analyDataObj.sin_product_click_ucnt*100,2)+"%"),e.analyDataObj.live_show_ucnt>0&&(e.analyDataObj.sin_show_pay_ucnt_ratio=a.a.Math.round(e.analyDataObj.pay_ucnt/e.analyDataObj.live_show_ucnt*100,2)+"%"),e.analyDataObj.sin_pay_amt_hour=a.a.Math.round(t.pay_amt/t.live_duration_origin*3600,2),e.analyDataObj.sin_show_hour=a.a.Math.round(t.live_show_cnt/t.live_duration_origin*3600,2),e.analyDataObj.sin_watch_hour=a.a.Math.round(t.watch_cnt/t.live_duration_origin*3600,2),e.analyChannels.forEach(n=>{e.analyDataObj.pay_amt>0&&e.analySetChannelValue(n,"sin_pay_amt_ratio",a.a.Math.round(e.analyGetChannelValue(n,"pay_amt")/e.analyDataObj.pay_amt*100,2)+"%"),e.analyDataObj.live_show_cnt>0&&e.analySetChannelValue(n,"sin_show_ratio",a.a.Math.round(e.analyGetChannelValue(n,"live_show_cnt")/e.analyDataObj.live_show_cnt*100,2)+"%"),e.analyDataObj[n.key+"_live_show_cnt"]>0&&e.analySetChannelValue(n,"sin_show_watch_ratio",a.a.Math.round(e.analyGetChannelValue(n,"watch_cnt")/e.analyGetChannelValue(n,"live_show_cnt")*100,2)+"%"),e.analySetChannelValue(n,"sin_show_hour",a.a.Math.round(e.analyGetChannelValue(n,"live_show_cnt")/t.live_duration_origin*3600,2)),e.analyGetChannelValue(n,"watch_cnt")&&e.analySetChannelValue(n,"sin_watch_gpm",a.a.Math.round(e.analyGetChannelValue(n,"pay_amt")/e.analyGetChannelValue(n,"watch_cnt")*1e3,2)),e.analyGetChannelValue(n,"live_show_cnt")&&e.analySetChannelValue(n,"sin_show_gpm",a.a.Math.round(e.analyGetChannelValue(n,"pay_amt")/e.analyGetChannelValue(n,"live_show_cnt")*1e3,2)),e.analyGetChannelValue(n,"watch_ucnt")&&(e.analySetChannelValue(n,"sin_uv",a.a.Math.round(e.analyGetChannelValue(n,"pay_amt")/e.analyGetChannelValue(n,"watch_ucnt"),2)),e.analySetChannelValue(n,"sin_watch_pay_ucnt_ratio",a.a.Math.round(e.analyGetChannelValue(n,"pay_cnt")/e.analyGetChannelValue(n,"watch_ucnt")*100,2)+"%"))});let n=r.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d");e.htmlObj.aaa_analy_live={title:"\u76f4\u64ad\u590d\u76d8",html:n.btnHtml,options:{hide_item:!0},callback:[function(){r.a.bindButtonClick(n.btnId,(function(){let t=["\u6570\u636e",e.analyDataObj.live_time];const n=[];e.analyDataMps.forEach(t=>{n.push([t.name,e.analyDataObj.hasOwnProperty(t.key)?e.analyDataObj[t.key]:""])}),e.analyChannels.forEach(t=>{e.analyChannelMaps.forEach(a=>{let r=e.analyGetChannelValue(t,a.key);n.push([t.name+"-"+a.name,null===r?"":r])})});const r="\u76f4\u64ad\u8be6\u60c5\u590d\u76d8-"+e.analyDataObj.live_time,o={caption:"",headerList:t,cellList:n,exportName:r};a.a.Excel.exportSimple(o)}))}]},e.show()}}}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1);t.default=function(){return{inited:!1,forceXhr:!0,init:function(){this.inited||(this.inited=!0,this.xhr())},xhr:function(){let e=this;a.a.Xhr.registRules("/compass_api/content_live/shop/live_review/trend_analysis_table",(function(t){let n=a.a.Url.info(t.responseURL),o=n.getParams("begin_date").substr(0,10)||"",i=n.getParams("end_date").substr(0,10)||"";if(!o||!i)return void console.error("\u65e5\u671f\u9519\u8bef\uff01");let c=o+"-"+i;o==i&&(c=o);let s=t.responseData.data||{},l=s.index_selected||[],_=s.data_result||[];if(_.length<3)return void r.a.setContentObj(e,"aaa_trend_analysis",{title:"\u6e20\u9053\u5206\u6790",html:"\u6ca1\u6709\u6570\u636e"});for(let t=0;t<e.trendAnalysis_needKeys.length;t++){let n=e.trendAnalysis_needKeys[t];if(l.indexOf(n)<0)return void r.a.setContentObj(e,"aaa_trend_analysis",{title:"\u6e20\u9053\u5206\u6790",html:"\u8bf7\u914d\u7f6e\u6307\u6807"})}let u=["all","all_natural","all_pay"],h={};for(let e=0;e<_.length;e++){let t=_[e],n=(t.source||{}).first_channel_name||"";if(u.indexOf(n)<0)return void console.error("\u6570\u636e\u7c7b\u578b\u9519\u8bef\uff1a",n);h[n]=t}let d={};u.forEach(t=>{let n=h[t];d[t]=e.trendAnalysis_buildData(t,n,d),"all"!=t&&(n.children||[]).forEach(t=>{let n=(t.source||{}).channel_name||"";e.trendAnalysis_sources.indexOf(n)<0||(d[n]=e.trendAnalysis_buildData(n,t,d))})}),e.trendAnalysis_show(d,c)}))},trendAnalysis_sources:["all","all_natural","homepage_hot","video_to_live","homepage_follow","others_homepage","general_search","douyin_shopping_center","other","all_pay","qianchuan_pc","suixintui"],trendAnalysis_buildData:function(e,t,n){let r={source_name:t.source.channel_display};return t.pay_amt&&t.pay_amt.hasOwnProperty("value")?((r={source_name:t.source.channel_display,pay_amt:t.pay_amt.value.value/100,live_show_cnt:t.live_show_cnt.value.value,watch_cnt:t.watch_cnt.value.value,live_show_ucnt:t.live_show_ucnt?t.live_show_ucnt.value.value:0,watch_ucnt:t.watch_ucnt?t.watch_ucnt.value.value:0,product_show_ucnt:t.product_show_ucnt?t.product_show_ucnt.value.value:0,product_click_ucnt:t.product_click_ucnt?t.product_click_ucnt.value.value:0,pay_ucnt:t.pay_ucnt.value.value}).sin_live_show_cnt_ratio="all"==e?"100%":Math.round(r.watch_cnt/n.all.watch_cnt*1e4)/100+"%","nan"==t.live_show_cnt.value.unit?r.watch_live_show_cnt_ratio="":r.watch_live_show_cnt_ratio=Math.round(1e4*(r.live_show_cnt>0?r.watch_cnt/r.live_show_cnt:0))/100+"%","nan"==t.watch_cnt.value.unit?r.gpm="":r.gpm=r.watch_cnt>0?Math.round(r.pay_amt/r.watch_cnt*1e3*100)/100:0,t.live_show_ucnt&&"nan"==t.live_show_ucnt.value.unit?(r.sin_live_show_avg="",r.watch_live_show_ucnt_ratio=""):(r.sin_live_show_avg=r.live_show_ucnt>0?Math.round(r.live_show_cnt/r.live_show_ucnt*100)/100:0,r.watch_live_show_ucnt_ratio=r.live_show_ucnt>0?Math.round(r.watch_ucnt/r.live_show_ucnt*1e4)/100+"%":"0%"),t.watch_ucnt&&"nan"==t.watch_ucnt.value.unit?(r.sin_uv="",r.sin_product_show_ucnt_ratio=""):(r.sin_uv=r.watch_ucnt>0?Math.round(r.pay_amt/r.watch_ucnt*100)/100:0,r.sin_product_show_ucnt_ratio=r.watch_ucnt>0?Math.round(r.product_show_ucnt/r.watch_ucnt*1e4)/100+"%":"0%"),"nan"==t.pay_ucnt.value.unit?r.avg_pay_user_amt="":r.avg_pay_user_amt=r.pay_ucnt>0?Math.round(r.pay_amt/r.pay_ucnt*100)/100:0,t.product_show_ucnt&&"nan"==t.product_show_ucnt.value.unit?r.product_click_show_ucnt_ratio="":r.product_click_show_ucnt_ratio=r.product_show_ucnt>0?Math.round(r.product_click_ucnt/r.product_show_ucnt*1e4)/100+"%":"0%",t.product_click_ucnt&&"nan"==t.product_click_ucnt.value.unit?r.sin_product_click_pay_ucnt_ratio="":r.sin_product_click_pay_ucnt_ratio=r.product_click_ucnt>0?Math.round(r.pay_ucnt/r.product_click_ucnt*1e4)/100+"%":"0%",this.allHead.forEach(e=>{if(r.hasOwnProperty(e.key))return;let n=t[e.key]?t[e.key].value.value:0;["interact_watch_cnt_ratio","interact_watch_ucnt_ratio","product_click_show_cnt_ratio","product_click_show_ucnt_ratio","product_click_pay_cnt_ratio","pay_live_show_ucnt_ratio","watch_pay_ucnt_ratio"].includes(e.key)&&(n=n>0?a.a.Math.round(a.a.Math.round(1e4*n)/100,2)+"%":"0%"),["avg_hour_pay_amt"].includes(e.key)&&(n=n>0?a.a.Math.round(a.a.Math.round(n,2)/100,2):"0"),r[e.key]=n}),r):r},allHead:[{name:"\u76f4\u64ad\u95f4\u66dd\u5149\u6b21\u6570",key:"live_show_cnt"},{name:"\u76f4\u64ad\u95f4\u89c2\u770b\u6b21\u6570",key:"watch_cnt"},{name:"\u76f4\u64ad\u95f4\u66dd\u5149-\u89c2\u770b\u7387(\u6b21\u6570)",key:"watch_live_show_cnt_ratio"},{name:"\u76f4\u64ad\u95f4\u66dd\u5149\u4eba\u6570",key:"live_show_ucnt"},{name:"\u76f4\u64ad\u95f4\u89c2\u770b\u4eba\u6570",key:"watch_ucnt"},{name:"\u76f4\u64ad\u95f4\u66dd\u5149-\u89c2\u770b\u7387(\u4eba\u6570)",key:"watch_live_show_ucnt_ratio"},{name:"\u5355\u5c0f\u65f6\u89c2\u770b\u4eba\u6570",key:"avg_hour_watch_ucnt"},{name:"\u76f4\u64ad\u95f4\u4e92\u52a8\u6b21\u6570",key:"interact_cnt"},{name:"\u76f4\u64ad\u95f4\u89c2\u770b-\u4e92\u52a8\u7387(\u6b21\u6570)",key:"interact_watch_cnt_ratio"},{name:"\u76f4\u64ad\u95f4\u4e92\u52a8\u4eba\u6570",key:"interact_ucnt"},{name:"\u76f4\u64ad\u95f4\u89c2\u770b-\u4e92\u52a8\u7387(\u4eba\u6570)",key:"interact_watch_ucnt_ratio"},{name:"\u65b0\u589e\u7c89\u4e1d\u6570",key:"follow_anchor_ucnt"},{name:"\u5546\u54c1\u66dd\u5149\u6b21\u6570",key:"product_show_cnt"},{name:"\u5546\u54c1\u70b9\u51fb\u6b21\u6570",key:"product_click_cnt"},{name:"\u5546\u54c1\u66dd\u5149-\u70b9\u51fb\u7387(\u6b21\u6570)",key:"product_click_show_cnt_ratio"},{name:"\u6210\u4ea4\u8ba2\u5355\u6570",key:"pay_cnt"},{name:"\u5546\u54c1\u70b9\u51fb-\u6210\u4ea4\u7387(\u6b21\u6570)",key:"product_click_pay_cnt_ratio"},{name:"\u5546\u54c1\u66dd\u5149\u4eba\u6570",key:"product_show_ucnt"},{name:"\u5546\u54c1\u70b9\u51fb\u4eba\u6570",key:"product_click_ucnt"},{name:"\u5546\u54c1\u66dd\u5149-\u70b9\u51fb\u7387(\u4eba\u6570)",key:"product_click_show_ucnt_ratio"},{name:"\u6210\u4ea4\u4eba\u6570",key:"pay_ucnt"},{name:"\u76f4\u64ad\u95f4\u66dd\u5149-\u6210\u4ea4\u7387(\u4eba\u6570)",key:"pay_live_show_ucnt_ratio"},{name:"\u6210\u4ea4\u91d1\u989d",key:"pay_amt"},{name:"\u5355\u5c0f\u65f6GMV",key:"avg_hour_pay_amt"},{name:"\u89c2\u770b-\u6210\u4ea4\u7387(\u4eba\u6570)",key:"watch_pay_ucnt_ratio"},{name:"\u6210\u4ea4\u4ef6\u6570",key:"pay_combo_cnt"},{name:"\u5343\u6b21\u89c2\u770b\u6210\u4ea4\u91d1\u989d",key:"gpm"},{name:"\u5ba2\u5355\u4ef7",key:"avg_pay_user_amt"}],trendAnalysis_cellKeys:[{key:"pay_amt",name:"GMV"},{key:"sin_live_show_cnt_ratio",name:"\u6d41\u91cf\u5360\u6bd4"},{key:"live_show_cnt",name:"\u6d41\u91cf\u6e20\u9053PV"},{key:"watch_live_show_cnt_ratio",name:"\u8fdb\u5165\u7387\uff08\u6b21\u6570\uff09"},{key:"gpm",name:"\u5343\u6b21\u89c2\u770b\u6210\u4ea4\u91d1\u989d"},{key:"sin_uv",name:"\u6d41\u91cf\u6e20\u9053UV"},{key:"sin_live_show_avg",name:"\u4eba\u5747\u66dd\u5149\u6b21\u6570"},{key:"avg_pay_user_amt",name:"\u5ba2\u5355\u4ef7"},{key:"live_show_ucnt",name:"\u66dd\u5149\u4eba\u6570"},{key:"watch_live_show_ucnt_ratio",name:"\u8fdb\u5165\u7387\uff08\u4eba\u6570\uff09"},{key:"sin_product_show_ucnt_ratio",name:"\u5546\u54c1\u66dd\u5149\u7387\uff08\u4eba\u6570\uff09"},{key:"product_click_show_ucnt_ratio",name:"\u5546\u54c1\u70b9\u51fb\u7387\uff08\u4eba\u6570\uff09"},{key:"sin_product_click_pay_ucnt_ratio",name:"\u70b9\u51fb\u652f\u4ed8\u7387\uff08\u4eba\u6570\uff09"}],trendAnalysis_needKeys:["pay_amt","live_show_cnt","pay_ucnt"],trendAnalysis_show:function(e,t){let n=this,o=r.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d-\u683c\u5f0f1"),i=r.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d-\u5168\u91cf4");r.a.setContentObj(n,"aaa_trend_analysis",{title:"\u6e20\u9053\u5206\u6790",html:`<div>${t}</div>`+o.btnHtml+i.btnHtml,options:{hide_item:!0}}),r.a.bindButtonClick(o.btnId,(function(){let r=["\u6e20\u9053","\u7ef4\u5ea6",t];const o=[];n.trendAnalysis_sources.forEach(t=>{n.trendAnalysis_cellKeys.forEach(n=>{let a=[e[t].source_name,n.name,e[t][n.key]||""];o.push(a)})});const i={caption:"",headerList:r,cellList:o,exportName:"\u76f4\u64ad\u590d\u76d8-\u6e20\u9053\u5206\u6790-"+t+"-1"};a.a.Excel.exportSimple(i)})),r.a.bindButtonClick(i.btnId,(function(){let r=["\u65e5\u671f","\u6e20\u9053"];n.allHead.forEach(e=>r.push(e.name));const o=[];n.trendAnalysis_sources.forEach(a=>{let r=e[a],i=[t,r.source_name];n.allHead.forEach(e=>{i.push(r[e.key]||"-")}),o.push(i)});const i={caption:"",headerList:r,cellList:o,exportName:"\u76f4\u64ad\u590d\u76d8-\u6e20\u9053\u5206\u6790-"+t+"-4"};a.a.Excel.exportSimple(i)}))}}}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1);t.default=function(){return{inited:!1,forceXhr:!0,init:function(){this.inited||(this.inited=!0,this.xhr())},htmlObj:{},xhr:function(){let e=this;a.a.Xhr.registRules("/business_api/shop/crowd/live/feature_basic",(function(t){e.crowdProcess("basic",t)})),a.a.Xhr.registRules("/business_api/shop/crowd/live/feature_order",(function(t){e.crowdProcess("order",t)})),a.a.Xhr.registRules("/business_api/shop/crowd/live/feature_content",(function(t){e.crowdProcess("content",t)})),a.a.Xhr.registRules("/business_api/shop/crowd/live/feature_single",(function(t){e.crowdProcess("single",t)}))},crowdData:{},crowdFetched:{},crowdFilterKey:"",crowdProcess(e,t){this.htmlObj.zzz_corwd=r.a.functions("compass-live-crowd")(this,e,t),r.a.setContent(this.htmlObj)}}}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1);t.default=function(e,t,n){let o={corwdFilters:{is_order:{0:"\u4e0d\u9650",1:"\u6709\u6210\u4ea4",2:"\u672a\u6210\u4ea4"},is_fans:{0:"\u4e0d\u9650",2:"\u7c89\u4e1d",3:"\u975e\u7c89\u4e1d",1:"\u65b0\u7c89\u4e1d"},is_interact:{0:"\u4e0d\u9650",1:"\u6709\u4e92\u52a8",2:"\u65e0\u4e92\u52a8"},is_new_customer:{0:"\u4e0d\u9650",1:"\u9996\u8d2d",2:"\u590d\u8d2d"},is_effective_visit:{0:"\u4e0d\u9650",1:"\u89c2\u770b40s+",2:"\u65e0\u6548\u89c2\u770b"}},crowdShowKeys:[{name:"\u6027\u522b\u5206\u5e03",length:2},{name:"\u5e74\u9f84\u5206\u5e03",length:7},{name:"\u7b56\u7565\u4eba\u7fa4",length:8},{name:"\u5e38\u9a7b\u7701\u4efd",length:10},{name:"\u4e8c\u7ea7\u5185\u5bb9\u504f\u597d",length:100},{name:"\u884c\u4e1a\u504f\u597d",length:10},{name:"\u5546\u54c1\u504f\u597d",length:10},{name:"\u540c\u884c\u4e1a\u5546\u5bb6\u504f\u597d",length:10}],crowdContent:"",crowdShowFilterStr(e){let t=[];return e.split("-").forEach(e=>{!e||e.length<=0||"\u4e0d\u9650"!=e&&t.push(e)}),t.length>0?t.join("-"):"\u4e0d\u9650"},crowdProcess:function(){let o=this,i=a.a.Url.info(n.responseURL),c=n.responseData.data,{is_order:s,is_fans:l,is_interact:_,is_new_customer:u,is_effective_visit:h}=i.getParams(),d=i.getParams("live_room_id"),p=[o.corwdFilters.is_order[s]||s,o.corwdFilters.is_fans[l]||l,o.corwdFilters.is_interact[_]||_,o.corwdFilters.is_new_customer[u]||u,o.corwdFilters.is_effective_visit[h]||h].join("-");e.crowdFilterKey!==d+p&&(e.crowdData={},e.crowdFetched={},e.crowdFilterKey=d+p);let m=[];switch(t){case"basic":m=[{name:"\u6027\u522b\u5206\u5e03",key:"sex_dis"},{name:"\u5e74\u9f84\u5206\u5e03",key:"age_dis"},{name:"\u7b56\u7565\u4eba\u7fa4",key:"consumer_dis"},{name:"\u5e38\u9a7b\u7701\u4efd",key:"province_dis"}];break;case"order":m=[{name:"\u884c\u4e1a\u504f\u597d",key:"industry_prefer"},{name:"\u540c\u884c\u4e1a\u5546\u5bb6\u504f\u597d",key:"peer_prefer"},{name:"\u5546\u54c1\u504f\u597d",key:"category_prefer"},{name:"\u4e0b\u5355\u4ef7\u503c",key:"order_value"},{name:"\u4e0b\u5355\u9891\u6b21",key:"order_freq"},{name:"\u770b\u64ad\u5929\u6570",key:"watch_days"},{name:"\u5e97\u94fa\u9996\u590d\u8d2d\u5206\u5e03",key:"repurchase_dis"}];break;case"content":m=[{name:"\u4e8c\u7ea7\u5185\u5bb9\u504f\u597d",key:"second_prefer"},{name:"\u8425\u9500\u5de5\u5177\u504f\u597d",key:"ump_tools_prefer"}];break;case"single":"101"==i.getParams("crowd_tag")&&(t="content",m=[{name:"\u4e8c\u7ea7\u5185\u5bb9\u504f\u597d",key:"single_index"}]),"12"==i.getParams("crowd_tag")&&(t="order",m=[{name:"\u5546\u54c1\u7c7b\u76ee\u504f\u597d",key:"single_index"}])}m.forEach(t=>{e.crowdData[t.name]=[],c[t.key].data_result.forEach(n=>{n.point_name&&"\u540c\u884c\u4e1a\u540c\u7b49\u7ea7\u5546\u5bb6"==n.point_name||(["\u884c\u4e1a\u504f\u597d","\u5546\u54c1\u504f\u597d","\u540c\u884c\u4e1a\u5546\u5bb6\u504f\u597d"].indexOf(t.name)<0&&(n.vertical=a.a.Math.round(100*n.vertical,2)+"%"),e.crowdData[t.name].push({name:n.horizontal,value:n.origin_value,vertical:n.vertical,tgi:a.a.Math.round(n.tgi,2)}))})}),e.crowdFetched[t]=!0;let y=`<div style="width: 100%; text-align: center;">${o.crowdShowFilterStr(p)}</div>`,f={};Object.keys(e.crowdFetched).length>=3&&(y+=(f=r.a.buildButton("\u70b9\u51fb\u4e0b\u8f7d")).btnHtml),o.crowdContent={title:"\u7528\u6237\u753b\u50cf",html:y,callback:function(){f.btnId&&r.a.bindButtonClick(f.btnId,(function(){const t=[];o.crowdShowKeys.forEach(n=>{for(;e.crowdData[n.name].length<n.length;)e.crowdData[n.name].push({name:"",value:"",vertical:"",tgi:""});e.crowdData[n.name].length>n.length&&(e.crowdData[n.name]=e.crowdData[n.name].slice(0,n.length)),e.crowdData[n.name].forEach(e=>{t.push([n.name,e.name,e.value,e.vertical,e.tgi])})});const n={caption:"",headerList:["\u7c7b\u578b","\u7ef4\u5ea6","\u4eba\u6570","\u5360\u6bd4|\u6307\u6570","TGI"],cellList:t,exportName:"\u76f4\u64ad\u95f4\u753b\u50cf_"+d};a.a.Excel.exportSimple(n)}))}}}};return o.crowdProcess(),o.crowdContent}},function(e,t,n){"use strict";n.r(t),n(5);var a=n(4),r=n(1);let o=[{key:"buyin.jinritemai.com/dashboard/servicehall/business-homepage",file:n(11)},{key:"compass.jinritemai.com/shop/commodity/traffic-analysis",file:n(12)},{key:"/shop/goods-user-analysis/single-crowd",file:n(13)},{key:"/shop/live-detail",file:n(14)},{key:"compass.jinritemai.com/shop/live-review",file:n(15)},{key:"compass.jinritemai.com/shop/live-user-analysis",file:n(16)}];const i=[{key:"compass-live-crowd",file:n(17),desc:"\u7f57\u76d8 - \u76f4\u64ad\u7528\u6237\u753b\u50cf\uff0c\u76f4\u64ad\u8be6\u60c5 || \u4eba\u7fa4\u6d1e\u5bdf"}];a.a.register(),o.forEach(e=>{r.a.register(e.key,e.file)}),i.forEach(e=>{r.a.functions(e.key,e.file)}),r.a.init()}]);